import{m as A,C as u,z as T,D as d,n as c,F as k,E as R,G as x,I as F,w as L,v as E,x as N,J as g,K as q,e as v,L as C,S as D}from"./runtime.CA1fLMSP.js";function O(a,f,e,n=null,i=!1){c&&k();var s=a,r=null,t=null,l=null,_=i?R:0;A(()=>{if(l===(l=!!f()))return;let h=!1;if(c){const y=s.data===x;l===y&&(s=F(),L(s),E(!1),h=!0)}l?(r?u(r):r=T(()=>e(s)),t&&d(t,()=>{t=null})):(t?u(t):n&&(t=T(()=>n(s))),r&&d(r,()=>{r=null})),h&&E(!0)},_),c&&(s=N)}function S(a,f){return a===f||(a==null?void 0:a[D])===f}function Y(a={},f,e,n){return g(()=>{var i,s;return q(()=>{i=s,s=[],v(()=>{a!==e(...s)&&(f(a,...s),i&&S(e(...i),a)&&f(null,...i))})}),()=>{C(()=>{s&&S(e(...s),a)&&f(null,...s)})}}),a}export{Y as b,O as i};
